@import "tailwindcss";

@variant dark (&:is(.dark *));

:root {
  --background: #ffffff;
  --foreground: #374045;

  /* CoStudy Brand Colors */
  --primary-purple: #4A12C0;
  --secondary-purple: #6B3DCB;
  --lavender: #EDE7F9;
  --light-lavender: #ccbced;
  --dark-gray: #374045;
  --medium-gray: #5E6E76;
  --light-gray: #92A2AA;
  --background-gray: #EAEDEF;

  /* Hero v2 - Neon Color Palette */
  --co-primary: #4A12C0;
  --co-neon1: #A78BFA;
  --co-neon2: #C084FC;
  --co-neon3: #22D3EE;
  --co-neon4: #EC4899;
  --co-neon5: #60A5FA;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: Inter, ui-sans-serif, system-ui, sans-serif;
  --font-mono: ui-monospace, monospace;

  /* CoStudy Brand Colors */
  --color-primary-purple: var(--primary-purple);
  --color-secondary-purple: var(--secondary-purple);
  --color-lavender: var(--lavender);
  --color-light-lavender: var(--light-lavender);
  --color-dark-gray: var(--dark-gray);
  --color-medium-gray: var(--medium-gray);
  --color-light-gray: var(--light-gray);
  --color-background-gray: var(--background-gray);
}

/* Dark Mode */
:root.dark {
  --background: #0a0a0a;
  --foreground: #ededed;

  /* Dark mode specific overrides */
  --primary-purple: #8B5CF6;
  --secondary-purple: #A78BFA;
  --lavender: #1F1B24;
  --light-lavender: #2D2433;
  --dark-gray: #E5E5E5;
  --medium-gray: #A3A3A3;
  --light-gray: #737373;
  --background-gray: #171717;

  /* Hero v2 - Dark mode override */
  --co-primary: #8B5CF6;
}

:root.dark body,
.dark body {
  background: #0a0a0a;
  color: #ededed;
}

/* Dark mode adjustments for specific elements */
.dark .bg-white {
  background-color: #171717 !important;
}

.dark .min-h-screen {
  background-color: #0a0a0a !important;
}

.dark .bg-gray-50 {
  background-color: #1a1a1a !important;
}

.dark .shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important;
}

.dark .bg-gradient-to-r,
.dark .bg-gradient-to-br,
.dark .bg-gradient-to-b {
  opacity: 0.8;
}

/* Removed prefers-color-scheme media query - always default to light mode */
/* Users can manually toggle dark mode using the dark mode button */

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Normal mode (non-high-contrast) text contrast fixes */
/* Light mode: dark text on light backgrounds */
body:not(.high-contrast) {
  color: #374045;
}

body:not(.high-contrast) h1,
body:not(.high-contrast) h2,
body:not(.high-contrast) h3,
body:not(.high-contrast) h4,
body:not(.high-contrast) h5,
body:not(.high-contrast) h6 {
  color: #374045;
}

body:not(.high-contrast) p {
  color: #5E6E76;
}

/* Dark mode: light text on dark backgrounds */
body:not(.high-contrast).dark,
body:not(.high-contrast) .dark {
  color: #ededed;
}

/* Hero h1 keeps original color */
body:not(.high-contrast).dark h1,
body:not(.high-contrast) .dark h1 {
  color: #E0E7FF !important;
  text-shadow: 0 0 30px rgba(224, 231, 255, 0.4), 0 0 15px rgba(224, 231, 255, 0.3) !important;
}

/* Section headings h2-h6 are 30% lighter */
body:not(.high-contrast).dark h2,
body:not(.high-contrast).dark h3,
body:not(.high-contrast).dark h4,
body:not(.high-contrast).dark h5,
body:not(.high-contrast).dark h6,
body:not(.high-contrast) .dark h2,
body:not(.high-contrast) .dark h3,
body:not(.high-contrast) .dark h4,
body:not(.high-contrast) .dark h5,
body:not(.high-contrast) .dark h6 {
  color: #E9EEFF !important;
  text-shadow: 0 0 30px rgba(233, 238, 255, 0.4), 0 0 15px rgba(233, 238, 255, 0.3) !important;
}

body:not(.high-contrast).dark p,
body:not(.high-contrast) .dark p {
  color: #A0AEC0 !important;
}

/* Blur and reduce animated background activity in normal mode */
body:not(.high-contrast) .animated-background-blur {
  backdrop-filter: blur(120px);
  -webkit-backdrop-filter: blur(120px);
}

body:not(.high-contrast) .animated-orb {
  opacity: 0.4;
  filter: blur(80px);
}

body:not(.high-contrast).dark .animated-orb {
  opacity: 0.3;
  filter: blur(100px);
}

/* Prevent text overflow on all devices including mobile and TVs */
* {
  word-wrap: break-word;
  overflow-wrap: break-word;
  -webkit-hyphens: auto;
  -ms-hyphens: auto;
  hyphens: auto;
}

/* Ensure containers don't overflow */
.container {
  max-width: 100%;
  overflow-x: hidden;
}

/* Responsive text sizing for all devices */
html {
  font-size: 16px;
}

@media (max-width: 640px) {
  html {
    font-size: 14px;
  }
}

@media (min-width: 1920px) {
  html {
    font-size: 18px;
  }
}

@media (min-width: 2560px) {
  html {
    font-size: 20px;
  }
}

/* Prevent horizontal scroll on mobile */
body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* Prevent layout shift and flash on page load */
.header-container {
  min-height: 72px; /* Consistent header height */
}

/* Suppress animations until page is fully loaded */
.preload * {
  animation-duration: 0s !important;
  transition-duration: 0s !important;
}

/* Prevent zoom/pinch gestures from affecting animations */
html {
  touch-action: pan-x pan-y;
  -ms-touch-action: pan-x pan-y;
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

/* Prevent zoom from affecting animated elements */
body {
  touch-action: pan-x pan-y;
  -webkit-text-size-adjust: 100%;
}

/* Disable animation interference from browser zoom */
@media (prefers-reduced-motion: no-preference) {
  .animated-orb,
  .animate-float,
  .animate-float-delayed,
  .animate-float-slow,
  .animate-morph,
  .animate-morph-delayed,
  .animate-pulse-slow {
    will-change: transform;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    perspective: 1000px;
    -webkit-perspective: 1000px;
  }
}

/* Force GPU acceleration and prevent repaints during zoom */
.animated-orb {
  transform: translate3d(0, 0, 0);
  -webkit-transform: translate3d(0, 0, 0);
}

/* High Contrast Mode */
.high-contrast {
  /* Override all colors with high contrast versions */
  --primary-purple: #000000;
  --secondary-purple: #000000;
  --lavender: #ffffff;
  --light-lavender: #f5f5f5;
  --dark-gray: #000000;
  --medium-gray: #000000;
  --light-gray: #333333;
  --background-gray: #ffffff;
}

/* Heavy blur on distracting backgrounds in high contrast mode */
.high-contrast .animated-background-blur,
.high-contrast .animated-orb {
  backdrop-filter: blur(200px) !important;
  -webkit-backdrop-filter: blur(200px) !important;
  filter: blur(150px) !important;
  opacity: 0.15 !important;
}

/* Hero content blur - borderless with heavy blur in high contrast mode */
.high-contrast .hero-content {
  background: transparent;
  backdrop-filter: blur(40px);
  -webkit-backdrop-filter: blur(40px);
  border-radius: 0;
  padding: 0;
  box-shadow: none;
}

/* Light mode high contrast - all text black */
.high-contrast:not(.dark) h1,
.high-contrast:not(.dark) h2,
.high-contrast:not(.dark) h3,
.high-contrast:not(.dark) h4,
.high-contrast:not(.dark) h5,
.high-contrast:not(.dark) h6 {
  color: #000000 !important;
}

.high-contrast:not(.dark) p,
.high-contrast:not(.dark) span,
.high-contrast:not(.dark) a:not(.bg-blue-600):not(.bg-purple-600):not(.bg-green-600):not([class*="bg-"]) {
  color: #000000 !important;
}

/* Dark mode high contrast - all text white */
.high-contrast.dark h1,
.high-contrast.dark h2,
.high-contrast.dark h3,
.high-contrast.dark h4,
.high-contrast.dark h5,
.high-contrast.dark h6 {
  color: #ffffff !important;
}

.high-contrast.dark p,
.high-contrast.dark span,
.high-contrast.dark a:not(.bg-blue-600):not(.bg-purple-600):not(.bg-green-600):not([class*="bg-"]) {
  color: #ffffff !important;
}

.high-contrast .bg-blue-600,
.high-contrast .bg-purple-600,
.high-contrast .bg-green-600,
.high-contrast [class*="bg-blue"],
.high-contrast [class*="bg-purple"],
.high-contrast [class*="bg-green"] {
  background-color: #000000 !important;
  color: #ffffff !important;
}

.high-contrast .text-blue-600,
.high-contrast .text-purple-600,
.high-contrast .text-green-600 {
  color: #0000ff !important;
  font-weight: 700;
}

.high-contrast .border-blue-600,
.high-contrast .border-purple-600,
.high-contrast .border-green-600 {
  border-color: #000000 !important;
}

/* Remove all shadows in high-contrast mode for better clarity */
.high-contrast [class*="shadow"] {
  box-shadow: none !important;
}

.high-contrast * {
  /* Remove CSS filter drop-shadows */
  filter: none !important;
  text-shadow: none !important;
}

/* Screen Reader Only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.focus\:not-sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Focus Visible Styles */
*:focus-visible {
  outline: 2px solid #4A12C0;
  outline-offset: 2px;
}

/* Animated Background Animations */
@keyframes float {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
  }
  50% {
    transform: translateY(-20px) translateX(10px);
  }
}

@keyframes float-delayed {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
  }
  50% {
    transform: translateY(-30px) translateX(-15px);
  }
}

@keyframes float-slow {
  0%, 100% {
    transform: translateY(0px) translateX(0px) scale(1);
  }
  50% {
    transform: translateY(-15px) translateX(20px) scale(1.05);
  }
}

@keyframes spin-slow {
  from {
    transform: rotate(12deg);
  }
  to {
    transform: rotate(372deg);
  }
}

@keyframes spin-very-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes morph-to-circle {
  0% {
    border-radius: 1.5rem;
  }
  100% {
    border-radius: 9999px;
  }
}

@keyframes morph {
  0%, 100% {
    border-radius: 40% 60% 60% 40% / 60% 30% 70% 40%;
    transform: rotate(12deg) scale(1);
  }
  25% {
    border-radius: 60% 40% 30% 70% / 50% 60% 40% 50%;
    transform: rotate(18deg) scale(1.05);
  }
  50% {
    border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
    transform: rotate(6deg) scale(0.95);
  }
  75% {
    border-radius: 50% 50% 50% 50% / 40% 70% 30% 60%;
    transform: rotate(15deg) scale(1.02);
  }
}

@keyframes morph-delayed {
  0%, 100% {
    border-radius: 50% 50% 50% 50% / 50% 50% 50% 50%;
    transform: rotate(-6deg) scale(1);
  }
  33% {
    border-radius: 70% 30% 30% 70% / 60% 40% 60% 40%;
    transform: rotate(-12deg) scale(1.08);
  }
  66% {
    border-radius: 40% 60% 70% 30% / 40% 70% 30% 60%;
    transform: rotate(0deg) scale(0.92);
  }
}

@keyframes pulse-slow {
  0%, 100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.1);
  }
}

.animate-float {
  animation: float 20s ease-in-out infinite;
}

.animate-float-delayed {
  animation: float-delayed 25s ease-in-out infinite;
}

.animate-float-slow {
  animation: float-slow 30s ease-in-out infinite;
}

.animate-spin-slow {
  animation: spin-slow 40s linear infinite;
}

.animate-spin-very-slow {
  animation: spin-very-slow 60s linear infinite;
}

.animate-pulse-slow {
  animation: pulse-slow 8s ease-in-out infinite;
}

.animate-morph {
  animation: morph 20s ease-in-out infinite;
}

.animate-morph-delayed {
  animation: morph-delayed 25s ease-in-out infinite 2s;
}

.animate-morph-to-circle {
  animation: morph-to-circle 2s ease-in-out forwards;
}

/* Gradient Animation */
@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient {
  animation: gradient 8s ease infinite;
}

/* Shimmer Animation */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

@keyframes shimmer-delayed {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

@keyframes shimmer-text {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

.animate-shimmer {
  animation: shimmer 15s ease-in-out infinite;
}

.animate-shimmer-delayed {
  animation: shimmer-delayed 20s ease-in-out infinite 2s;
}

.animate-shimmer-text {
  animation: shimmer-text 3s ease-in-out infinite;
}

/* Floating Particle Animations */
@keyframes float-particle-1 {
  0%, 100% {
    transform: translate(0, 0);
    opacity: 0.6;
  }
  25% {
    transform: translate(30px, -40px);
    opacity: 1;
  }
  50% {
    transform: translate(-20px, -80px);
    opacity: 0.8;
  }
  75% {
    transform: translate(40px, -120px);
    opacity: 0.4;
  }
}

@keyframes float-particle-2 {
  0%, 100% {
    transform: translate(0, 0);
    opacity: 0.5;
  }
  33% {
    transform: translate(-50px, -60px);
    opacity: 1;
  }
  66% {
    transform: translate(20px, -120px);
    opacity: 0.6;
  }
}

@keyframes float-particle-3 {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.6;
  }
  50% {
    transform: translate(-60px, -100px) scale(1.5);
    opacity: 1;
  }
}

.animate-float-particle-1 {
  animation: float-particle-1 18s ease-in-out infinite;
}

.animate-float-particle-2 {
  animation: float-particle-2 22s ease-in-out infinite 1s;
}

.animate-float-particle-3 {
  animation: float-particle-3 16s ease-in-out infinite 3s;
}

/* Animated Logo Animations */
@keyframes draw-line {
  from {
    stroke-dashoffset: 180;
  }
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes pulse-electric {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
    filter: brightness(1.2);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.15);
    filter: brightness(1.5);
  }
}

@keyframes particle-1 {
  0%, 100% {
    transform: translateY(0) translateX(0);
    opacity: 0.8;
  }
  50% {
    transform: translateY(-8px) translateX(4px);
    opacity: 0.3;
  }
}

@keyframes particle-2 {
  0%, 100% {
    transform: translateY(0) translateX(0);
    opacity: 0.6;
  }
  50% {
    transform: translateY(-12px) translateX(-6px);
    opacity: 0.2;
  }
}

@keyframes particle-3 {
  0%, 100% {
    transform: translateY(0) translateX(0);
    opacity: 0.7;
  }
  50% {
    transform: translateY(-10px) translateX(8px);
    opacity: 0.25;
  }
}

.animate-draw-line {
  animation: draw-line 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-pulse-electric {
  animation: pulse-electric 2s ease-in-out infinite;
}

.animate-particle-1 {
  animation: particle-1 3s ease-in-out infinite;
}

.animate-particle-2 {
  animation: particle-2 4s ease-in-out infinite 0.5s;
}

.animate-particle-3 {
  animation: particle-3 3.5s ease-in-out infinite 1s;
}

/* Hero v2 - New Keyframes */
@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes shimmerText {
  0% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.06);
  }
  100% {
    filter: brightness(1);
  }
}

@keyframes outlineWave {
  to {
    stroke-dashoffset: -200;
  }
}

@keyframes slowPulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

@keyframes slowRotate {
  to {
    transform: rotate(360deg);
  }
}

.animate-gradient-shift {
  animation: gradientShift 12s ease-in-out infinite;
}

.animate-shimmer-text {
  animation: shimmerText 12s ease-in-out infinite;
}

.animate-slow-pulse {
  animation: slowPulse 8s ease-in-out infinite;
}

.animate-slow-rotate {
  animation: slowRotate 120s linear infinite;
}

/* Feature query for text-stroke support */
@supports (-webkit-text-stroke: 1px black) {
  .supports-text-stroke {
    -webkit-text-stroke: 0.5px rgba(0, 0, 0, 0.25);
  }

  .dark .supports-text-stroke {
    -webkit-text-stroke: 0.5px rgba(255, 255, 255, 0.18);
  }
}
